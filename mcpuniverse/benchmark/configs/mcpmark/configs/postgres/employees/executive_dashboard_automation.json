{
    "category": "employees",
    "question": "Design a comprehensive reporting and automation system for executive dashboard and real-time monitoring. The executive team needs automated reports, data views, and trigger-based notifications to track key business metrics without manual intervention.\n\n## Your Tasks:\n\n1. **Create executive summary views** — build three materialized views in the `employees` schema:\n   \n   **View 1: `exec_department_summary`**\n   * `department_name` (varchar) — department name\n   * `total_employees` (integer) — current active employee count\n   * `avg_salary` (decimal) — average current salary\n   * `total_payroll` (bigint) — total monthly payroll cost\n   * `manager_name` (varchar) — current department manager name\n\n   **View 2: `exec_hiring_trends`**  \n   * `hire_year` (integer) — year employees were hired\n   * `employees_hired` (integer) — number hired that year\n   * `avg_starting_salary` (decimal) — average first salary of hires that year\n   * `retention_rate` (decimal) — percentage still employed\n   * `top_hiring_department` (varchar) — department that hired the most that year\n\n   **View 3: `exec_salary_distribution`**\n   * `salary_band` (varchar) — salary ranges ('30K-50K', '50K-70K', '70K-90K', '90K-110K', '110K+')  \n   * `employee_count` (integer) — employees in this salary band\n   * `percentage_of_workforce` (decimal) — percentage of total workforce\n   * `most_common_title` (varchar) — most frequent job title in this band",
    "use_specified_server": true,
    "mcp_servers": [
        {
            "name": "postgres-pro"
        }
    ],
    "output_format": {
        "dashboard_status": "Executive dashboard automation completion status"
    },
    "evaluators": [
        {
            "func": "raw",
            "op": "postgres_executive_dashboard_automation_verifier",
            "value": "completed",
            "op_args": {},
            "desc": "Check if the AI agent created the executive dashboard automation system"
        }
    ],
    "prepares": [
        {
            "prepare_func": "mcpmark_postgres_setup",
            "prepare_args": {}
        }
    ],
    "cleanups": [
        {
            "server": "mcpmark",
            "tool": "",
            "cleanup_func": "postgres_cleanup",
            "cleanup_args": {}
        }
    ]
}