{
    "category": "mcpmark_cicd",
    "question": "Please execute the following task in my repository:{{GITHUB_EVAL_ORG}}/mcpmark-cicd\\n I need you to set up a proper linting workflow for our CI pipeline to ensure code quality standards are enforced on all pull requests. Here's what you need to do:\n\n**Step 1: Create Linting Configuration Branch**\nCreate a new branch called 'ci/add-eslint-workflow' from the main branch.\n\n**Step 2: Create ESLint Configuration**\nOn the new branch, create the file `.eslintrc.json` in the repository root with:\n```json\n{\n  \"env\": {\n    \"browser\": true,\n    \"es2021\": true,\n    \"node\": true\n  },\n  \"extends\": [\n    \"eslint:recommended\"\n  ],\n  \"parserOptions\": {\n    \"ecmaVersion\": 12,\n    \"sourceType\": \"module\"\n  },\n  \"rules\": {\n    \"no-unused-vars\": \"error\",\n    \"no-console\": \"warn\",\n    \"semi\": [\"error\", \"always\"],\n    \"quotes\": [\"error\", \"single\"]\n  },\n  \"ignorePatterns\": [\"node_modules/\", \"dist/\", \"build/\"]\n}\n```\n\n**Step 3: Create GitHub Actions Linting Workflow**\nCreate the file `.github/workflows/lint.yml` with:\n- Workflow name: \"Code Linting\"\n- Triggers on: push to main, pull_request events\n- Uses ubuntu-latest runner\n- Sets up Node.js version 18 using actions/setup-node\n- Installs dependencies with npm ci\n- Installs ESLint globally\n- Runs ESLint on all JavaScript files in src/ directories\n- Fails the workflow if linting errors are found\n\n**Step 4: Create a File That Will Fail Linting**\nCreate the file `src/example.js` with intentional linting violations that will cause the CI check to fail.\n\n**Step 5: Create Pull Request**\nCommit all the changes (ESLint config, workflow file, and example file with linting errors) in a single commit, then create a pull request from 'ci/add-eslint-workflow' to 'main' with:\n- Title: \"Add ESLint workflow for code quality enforcement\"\n- Body must include:\n  - A \"## Summary\" heading describing the linting setup\n  - A \"## Changes\" heading listing the files added\n  - A \"## Testing\" heading explaining how to test the workflow\n  - Mention that the PR intentionally includes linting errors to demonstrate the workflow\n\n**Step 6: Fix Linting Errors and Update PR**\nFix the linting errors in `src/example.js` and commit the changes in a single commit to update the PR so that the CI check passes.",
    "use_specified_server": true,
    "mcp_servers": [
        {
            "name": "github_mcpmark"
        }
    ],
    "evaluators": [
        {
            "func": "raw",
            "op": "mcpmark_github.verify_linting_ci_workflow",
            "value": "completed",
            "op_args": {
                "owner": "{{GITHUB_EVAL_ORG}}",
                "repo": "mcpmark-cicd"
            },
            "desc": "Verify ESLint configuration, lint workflow, and test file creation"
        }
    ],
    "prepares": [
        {
            "prepare_func": "mcpmark_github_setup",
            "prepare_args": {}
        }
    ],
    "cleanups": [
        {
            "server": "mcpmark",
            "tool": "",
            "cleanup_func": "github_cleanup",
            "cleanup_args": {}
        }
    ]
}
